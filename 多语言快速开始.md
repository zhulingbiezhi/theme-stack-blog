# 多语言功能快速开始指南

## 🎯 快速测试

您的网站现在已经支持中文和英文两种语言！

### 1. 查看效果

**本地开发服务器已启动**：http://localhost:1313/

**测试链接**：
- 中文版文章：http://localhost:1313/2025/03/vscode-cursor-theme-guide/
- 英文版文章：http://localhost:1313/en/2025/03/vscode-cursor-theme-guide/
- 英文首页：http://localhost:1313/en/

### 2. 语言切换器位置

打开任意页面，在**左侧边栏菜单底部**可以看到：
- 🔗 **English** （在中文页面时显示）
- 🔗 **简体中文** （在英文页面时显示）

点击即可切换语言。

### 3. 自动语言检测测试

**方法 A：清除浏览器缓存**
```javascript
// 在浏览器控制台（F12）执行：
localStorage.clear()
// 然后刷新页面
```

**方法 B：使用隐私/无痕模式**
- 打开无痕窗口
- 访问中文页面或英文页面
- 观察是否根据浏览器语言自动跳转

## 📝 添加新的多语言文章（3步）

### 步骤 1：创建中文文章
```bash
hugo new content/post/2025/my-article.md
```

### 步骤 2：复制为英文版本
```bash
cp content/post/2025/my-article.md content/post/2025/my-article.en.md
```

### 步骤 3：翻译英文版本
编辑 `my-article.en.md`，翻译以下内容：
- `title`：标题
- `description`：描述
- `keywords`：关键词
- 正文内容

**⚠️ 重要**：不要修改以下字段：
- `date`
- `slug`
- `image`
- `categories`

## 🔍 验证多语言配置

### 检查文件结构
```bash
# 中文文章
ls content/post/2025/*.md | grep -v ".en.md"

# 英文文章
ls content/post/2025/*.en.md
```

### 构建并查看统计
```bash
hugo --gc
```

输出应该显示两种语言的统计信息：
```
                  │ ZH - CN │ EN 
─────────┼──── ┼──
 Pages            │     xxx │ xxx
```

## 🚀 部署到生产环境

### 构建生产版本
```bash
cd /home/ququ/play/theme-stack-blog
hugo --gc --minify
```

### 上传到服务器
生成的文件在 `public/` 目录中，包含完整的多语言网站。

## 💡 常见问题

### Q1: 为什么看不到语言切换器？
**A**: 只有当文章有对应的翻译版本时，才会显示语言切换链接。确保：
- 两个文件的 `slug` 字段完全相同
- 文件名格式正确（`article.md` 和 `article.en.md`）

### Q2: 自动跳转不工作？
**A**: 检查以下几点：
1. 清除 localStorage：在控制台执行 `localStorage.clear()`
2. 确认浏览器语言设置
3. 重启浏览器

### Q3: 如何禁用自动跳转？
**A**: 用户点击语言切换器后，会自动保存偏好，之后不会再自动跳转。

### Q4: 如何只翻译部分文章？
**A**: 这完全没问题！只需为想要翻译的文章创建 `.en.md` 版本即可。没有翻译的文章不会显示语言切换器。

## 📊 当前状态

- ✅ 多语言配置：已完成
- ✅ 语言切换器：已添加
- ✅ 自动语言检测：已实现
- ✅ 示例翻译文章：1 篇
- 📝 中文页面：250 页
- 📝 英文页面：17 页

## 🎓 下一步学习

1. **查看完整配置**：`MULTILINGUAL_SETUP.md`
2. **查看详细总结**：`多语言配置总结.md`
3. **Hugo 官方文档**：https://gohugo.io/content-management/multilingual/

---

**提示**：Hugo 服务器正在后台运行中（端口 1313）。如需停止：
```bash
pkill -f "hugo server"
```

如需重启：
```bash
cd /home/ququ/play/theme-stack-blog
hugo server --bind=0.0.0.0 --port=1313
```

祝您使用愉快！🎉

